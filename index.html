<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Checkout SimplifiÃ© - Projet Bonnes Pratiques</title>
    <link rel="stylesheet" href="styles.css">
    <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
</head>
<body>
    <div class="container">
        <!-- Header -->
        <header class="header">
            <div class="header-content">
                <h1 class="title">ğŸ›’ Checkout SimplifiÃ©</h1>
                <p class="subtitle">SystÃ¨me de checkout avec calcul de panier, taxes et remises avancÃ©es</p>
                <div class="badges">
                    <span class="badge">Python 3.9+</span>
                    <span class="badge">Flask 3.0.0</span>
                    <span class="badge badge-success">100% TestÃ©</span>
                </div>
            </div>
        </header>

        <!-- Navigation -->
        <nav class="nav">
            <a href="#overview" class="nav-link">Vue d'ensemble</a>
            <a href="#features" class="nav-link">FonctionnalitÃ©s</a>
            <a href="#test" class="nav-link">ğŸ§ª Tester</a>
            <a href="#architecture" class="nav-link">Architecture</a>
            <a href="#structure" class="nav-link">Structure</a>
            <a href="#docs" class="nav-link">Documentation</a>
        </nav>

        <!-- Main Content -->
        <main class="main-content">
            <!-- Vue d'ensemble -->
            <section id="overview" class="section">
                <h2 class="section-title">ğŸ“‹ Vue d'ensemble</h2>
                <div class="cards-grid">
                    <div class="card">
                        <div class="card-icon">âœ…</div>
                        <h3 class="card-title">Statut</h3>
                        <p class="card-text">8/8 tests rÃ©ussis (100%)</p>
                        <p class="card-text">Tous les composants vÃ©rifiÃ©s</p>
                    </div>
                    <div class="card">
                        <div class="card-icon">ğŸš€</div>
                        <h3 class="card-title">Technologies</h3>
                        <p class="card-text">Python â€¢ Flask â€¢ REST API</p>
                        <p class="card-text">Black â€¢ Flake8 â€¢ MyPy</p>
                    </div>
                    <div class="card">
                        <div class="card-icon">ğŸ“š</div>
                        <h3 class="card-title">Documentation</h3>
                        <p class="card-text">Architecture â€¢ Tests â€¢ Workflow</p>
                        <p class="card-text">Guide complet disponible</p>
                    </div>
                    <div class="card">
                        <div class="card-icon">ğŸ”—</div>
                        <h3 class="card-title">Repository</h3>
                        <p class="card-text">
                            <a href="https://github.com/XERCORD/Bonne_pratique_dev" target="_blank" class="link">GitHub</a>
                        </p>
                    </div>
                </div>
            </section>

            <!-- FonctionnalitÃ©s -->
            <section id="features" class="section">
                <h2 class="section-title">ğŸš€ FonctionnalitÃ©s</h2>
                <div class="cards-grid">
                    <div class="card feature-card">
                        <h3 class="card-title">ğŸ“¦ Gestion de produits</h3>
                        <p class="card-text">CrÃ©ation et rÃ©cupÃ©ration de produits avec prix et catÃ©gorie</p>
                        <code class="code">POST /products<br>GET /products/{id}</code>
                    </div>
                    <div class="card feature-card">
                        <h3 class="card-title">ğŸ›’ Gestion de panier</h3>
                        <p class="card-text">Ajout, modification et suppression d'articles</p>
                        <code class="code">IntÃ©grÃ© dans /checkout</code>
                    </div>
                    <div class="card feature-card">
                        <h3 class="card-title">ğŸ’° Calcul de taxes</h3>
                        <p class="card-text">Taxes configurables par catÃ©gorie avec calcul proportionnel aprÃ¨s remise</p>
                        <code class="code">CalculÃ© automatiquement</code>
                    </div>
                    <div class="card feature-card">
                        <h3 class="card-title">ğŸ« SystÃ¨me de remises</h3>
                        <p class="card-text">Remises globale, par catÃ©gorie, avec montant minimum</p>
                        <code class="code">POST /discounts</code>
                    </div>
                    <div class="card feature-card">
                        <h3 class="card-title">ğŸŒ API REST</h3>
                        <p class="card-text">Endpoints pour toutes les opÃ©rations</p>
                        <code class="code">Flask REST API</code>
                    </div>
                    <div class="card feature-card">
                        <h3 class="card-title">ğŸ§ª Tests complets</h3>
                        <p class="card-text">Tests unitaires et d'intÃ©gration</p>
                        <code class="code">8/8 tests rÃ©ussis</code>
                    </div>
                </div>
            </section>

            <!-- Architecture -->
            <section id="architecture" class="section">
                <h2 class="section-title">ğŸ—ï¸ Architecture</h2>
                <div class="cards-grid">
                    <div class="card architecture-card">
                        <h3 class="card-title">ğŸ“ Principes appliquÃ©s</h3>
                        <ul class="list">
                            <li><strong>KISS</strong> - Keep It Simple, Stupid</li>
                            <li><strong>DRY</strong> - Don't Repeat Yourself</li>
                            <li><strong>YAGNI</strong> - You Aren't Gonna Need It</li>
                            <li><strong>SOLID</strong> - Principes SOLID</li>
                        </ul>
                    </div>
                    <div class="card architecture-card">
                        <h3 class="card-title">ğŸ¯ DÃ©coupage</h3>
                        <ul class="list">
                            <li><strong>Models</strong> - ReprÃ©sentation des donnÃ©es</li>
                            <li><strong>Services</strong> - Logique mÃ©tier</li>
                            <li><strong>API</strong> - Couche REST</li>
                            <li><strong>Tests</strong> - Tests unitaires et intÃ©gration</li>
                        </ul>
                    </div>
                    <div class="card architecture-card">
                        <h3 class="card-title">ğŸ”— DÃ©pendances</h3>
                        <div class="dependency-flow">
                            <div class="flow-item">API</div>
                            <div class="flow-arrow">â†“</div>
                            <div class="flow-item">Services</div>
                            <div class="flow-arrow">â†“</div>
                            <div class="flow-item">Models</div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Structure du projet -->
            <section id="structure" class="section">
                <h2 class="section-title">ğŸ“ Structure du projet</h2>
                <div class="structure-tree">
                    <div class="tree-item">
                        <span class="tree-icon">ğŸ“‚</span>
                        <span class="tree-name">src/</span>
                        <div class="tree-children">
                            <div class="tree-item">
                                <span class="tree-icon">ğŸ“‚</span>
                                <span class="tree-name">models/</span>
                                <div class="tree-children">
                                    <div class="tree-item"><span class="tree-icon">ğŸ“„</span><span class="tree-name">product.py</span></div>
                                    <div class="tree-item"><span class="tree-icon">ğŸ“„</span><span class="tree-name">cart.py</span></div>
                                    <div class="tree-item"><span class="tree-icon">ğŸ“„</span><span class="tree-name">discount.py</span></div>
                                </div>
                            </div>
                            <div class="tree-item">
                                <span class="tree-icon">ğŸ“‚</span>
                                <span class="tree-name">services/</span>
                                <div class="tree-children">
                                    <div class="tree-item"><span class="tree-icon">ğŸ“„</span><span class="tree-name">checkout_service.py</span></div>
                                    <div class="tree-item"><span class="tree-icon">ğŸ“„</span><span class="tree-name">tax_calculator.py</span></div>
                                </div>
                            </div>
                            <div class="tree-item">
                                <span class="tree-icon">ğŸ“‚</span>
                                <span class="tree-name">api/</span>
                                <div class="tree-children">
                                    <div class="tree-item"><span class="tree-icon">ğŸ“„</span><span class="tree-name">app.py</span></div>
                                </div>
                            </div>
                            <div class="tree-item"><span class="tree-icon">ğŸ“„</span><span class="tree-name">main.py</span></div>
                        </div>
                    </div>
                    <div class="tree-item">
                        <span class="tree-icon">ğŸ“‚</span>
                        <span class="tree-name">tests/</span>
                        <div class="tree-children">
                            <div class="tree-item"><span class="tree-icon">ğŸ“„</span><span class="tree-name">test_models.py</span></div>
                            <div class="tree-item"><span class="tree-icon">ğŸ“„</span><span class="tree-name">test_services.py</span></div>
                            <div class="tree-item"><span class="tree-icon">ğŸ“„</span><span class="tree-name">test_api.py</span></div>
                        </div>
                    </div>
                    <div class="tree-item">
                        <span class="tree-icon">ğŸ“‚</span>
                        <span class="tree-name">docs/</span>
                        <div class="tree-children">
                            <div class="tree-item"><span class="tree-icon">ğŸ“„</span><span class="tree-name">ARCHITECTURE.md</span></div>
                            <div class="tree-item"><span class="tree-icon">ğŸ“„</span><span class="tree-name">BUG_REPORT.md</span></div>
                            <div class="tree-item"><span class="tree-icon">ğŸ“„</span><span class="tree-name">TESTS_RESULTS.md</span></div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Tester le Checkout -->
            <section id="test" class="section">
                <h2 class="section-title">ğŸ§ª Tester le Checkout</h2>
                
                <div class="test-container">
                    <!-- Configuration API -->
                    <div class="test-section">
                        <h3 class="test-section-title">âš™ï¸ Configuration API</h3>
                        <div class="api-config">
                            <label for="api-url">URL de l'API :</label>
                            <input type="text" id="api-url" value="http://localhost:5001" class="input-field">
                            <button onclick="checkApiHealth()" class="btn btn-secondary">VÃ©rifier la connexion</button>
                            <div id="api-status" class="status-message"></div>
                        </div>
                    </div>

                    <!-- CrÃ©er un produit -->
                    <div class="test-section">
                        <h3 class="test-section-title">ğŸ“¦ CrÃ©er un produit</h3>
                        <form id="product-form" class="test-form" onsubmit="createProduct(event)">
                            <div class="form-group">
                                <label for="product-id">ID du produit :</label>
                                <input type="text" id="product-id" required class="input-field" placeholder="ex: prod1">
                            </div>
                            <div class="form-group">
                                <label for="product-name">Nom :</label>
                                <input type="text" id="product-name" required class="input-field" placeholder="ex: Laptop">
                            </div>
                            <div class="form-group">
                                <label for="product-price">Prix :</label>
                                <input type="number" id="product-price" step="0.01" required class="input-field" placeholder="ex: 999.99">
                            </div>
                            <div class="form-group">
                                <label for="product-category">CatÃ©gorie :</label>
                                <select id="product-category" class="input-field">
                                    <option value="food">Food</option>
                                    <option value="electronics" selected>Electronics</option>
                                    <option value="clothing">Clothing</option>
                                    <option value="other">Other</option>
                                </select>
                            </div>
                            <button type="submit" class="btn btn-primary">CrÃ©er le produit</button>
                        </form>
                        <div id="product-result" class="result-box"></div>
                    </div>

                    <!-- Liste des produits crÃ©Ã©s -->
                    <div class="test-section">
                        <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
                            <h3 class="test-section-title" style="margin-bottom: 0;">ğŸ›ï¸ Produits crÃ©Ã©s</h3>
                            <button onclick="loadProducts()" class="btn btn-secondary">ğŸ”„ Actualiser</button>
                        </div>
                        <div id="products-list" class="products-grid">
                            <p class="empty-state">Aucun produit crÃ©Ã© pour le moment</p>
                        </div>
                    </div>

                    <!-- CrÃ©er une remise -->
                    <div class="test-section">
                        <h3 class="test-section-title">ğŸ« CrÃ©er une remise</h3>
                        <form id="discount-form" class="test-form" onsubmit="createDiscount(event)">
                            <div class="form-group">
                                <label for="discount-code">Code de remise :</label>
                                <input type="text" id="discount-code" required class="input-field" placeholder="ex: SAVE10">
                            </div>
                            <div class="form-group">
                                <label for="discount-type">Type :</label>
                                <select id="discount-type" class="input-field" onchange="toggleDiscountFields()">
                                    <option value="percentage">Pourcentage (%)</option>
                                    <option value="fixed">Montant fixe</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label for="discount-value">Valeur :</label>
                                <input type="number" id="discount-value" step="0.01" required class="input-field" placeholder="ex: 10">
                            </div>
                            <div class="form-group">
                                <label for="discount-min-amount">Montant minimum (optionnel) :</label>
                                <input type="number" id="discount-min-amount" step="0.01" class="input-field" placeholder="ex: 100">
                            </div>
                            <div class="form-group">
                                <label for="discount-category">CatÃ©gorie (optionnel) :</label>
                                <select id="discount-category" class="input-field">
                                    <option value="">Toutes les catÃ©gories</option>
                                    <option value="food">Food</option>
                                    <option value="electronics">Electronics</option>
                                    <option value="clothing">Clothing</option>
                                    <option value="other">Other</option>
                                </select>
                            </div>
                            <button type="submit" class="btn btn-primary">CrÃ©er la remise</button>
                        </form>
                        <div id="discount-result" class="result-box"></div>
                    </div>

                    <!-- Panier et Checkout -->
                    <div class="test-section">
                        <h3 class="test-section-title">ğŸ›’ Panier et Checkout</h3>
                        <div class="cart-section">
                            <div class="cart-items-container">
                                <h4>Articles dans le panier :</h4>
                                <div id="cart-items" class="cart-items">
                                    <p class="empty-cart">Aucun article dans le panier</p>
                                </div>
                            </div>
                            <form id="add-to-cart-form" class="test-form" onsubmit="addToCart(event)">
                                <h4>Ajouter au panier :</h4>
                                <div class="form-group">
                                    <label for="cart-product-id">ID du produit :</label>
                                    <input type="text" id="cart-product-id" required class="input-field" placeholder="ex: prod1">
                                </div>
                                <div class="form-group">
                                    <label for="cart-quantity">QuantitÃ© :</label>
                                    <input type="number" id="cart-quantity" min="1" value="1" required class="input-field">
                                </div>
                                <button type="submit" class="btn btn-secondary">Ajouter au panier</button>
                            </form>
                            <div class="checkout-section">
                                <form id="checkout-form" class="test-form" onsubmit="calculateCheckout(event)">
                                    <div class="form-group">
                                        <label for="checkout-discount-code">Code de remise (optionnel) :</label>
                                        <input type="text" id="checkout-discount-code" class="input-field" placeholder="ex: SAVE10">
                                    </div>
                                    <button type="submit" class="btn btn-success">Calculer le checkout</button>
                                    <button type="button" onclick="clearCart()" class="btn btn-danger">Vider le panier</button>
                                </form>
                                <div id="checkout-result" class="result-box checkout-result"></div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Documentation -->
            <section id="docs" class="section">
                <h2 class="section-title">ğŸ“š Documentation</h2>
                <div class="cards-grid">
                    <div class="card doc-card">
                        <h3 class="card-title">ğŸ“– Architecture</h3>
                        <p class="card-text">DÃ©coupage en responsabilitÃ©s, dÃ©pendances, principes KISS/DRY/YAGNI</p>
                        <a href="#" onclick="showDocumentation('docs/ARCHITECTURE.md', 'ğŸ“– Architecture'); return false;" class="doc-link">Voir â†’</a>
                    </div>
                    <div class="card doc-card">
                        <h3 class="card-title">ğŸ’° Calcul Taxes/Remises</h3>
                        <p class="card-text">Documentation complÃ¨te du systÃ¨me de calcul avec formules et exemples</p>
                        <a href="#" onclick="showDocumentation('docs/CALCUL_TAXES_REMISES.md', 'ğŸ’° Calcul Taxes/Remises'); return false;" class="doc-link">Voir â†’</a>
                    </div>
                    <div class="card doc-card">
                        <h3 class="card-title">âœ… RÃ©sultats Tests</h3>
                        <p class="card-text">RÃ©sultats dÃ©taillÃ©s de tous les tests effectuÃ©s</p>
                        <a href="#" onclick="showDocumentation('docs/TESTS_RESULTS.md', 'âœ… RÃ©sultats Tests'); return false;" class="doc-link">Voir â†’</a>
                    </div>
                    <div class="card doc-card">
                        <h3 class="card-title">ğŸ› Bug Report</h3>
                        <p class="card-text">Exemple de bug report avec mÃ©thode de dÃ©bogage</p>
                        <a href="#" onclick="showDocumentation('docs/BUG_REPORT.md', 'ğŸ› Bug Report'); return false;" class="doc-link">Voir â†’</a>
                    </div>
                    <div class="card doc-card">
                        <h3 class="card-title">ğŸš€ AmÃ©liorations</h3>
                        <p class="card-text">Liste des amÃ©liorations possibles du projet</p>
                        <a href="#" onclick="showDocumentation('docs/AMELIORATIONS_POSSIBLES.md', 'ğŸš€ AmÃ©liorations'); return false;" class="doc-link">Voir â†’</a>
                    </div>
                    <div class="card doc-card">
                        <h3 class="card-title">ğŸŒ¿ Git Workflow</h3>
                        <p class="card-text">Exemple de workflow Git complet</p>
                        <a href="#" onclick="showDocumentation('docs/GIT_WORKFLOW_EXAMPLE.md', 'ğŸŒ¿ Git Workflow'); return false;" class="doc-link">Voir â†’</a>
                    </div>
                    <div class="card doc-card">
                        <h3 class="card-title">ğŸ”€ PR Example</h3>
                        <p class="card-text">Exemple de Pull Request</p>
                        <a href="#" onclick="showDocumentation('docs/PR_EXAMPLE.md', 'ğŸ”€ PR Example'); return false;" class="doc-link">Voir â†’</a>
                    </div>
                    <div class="card doc-card">
                        <h3 class="card-title">ğŸ“ Guide Git</h3>
                        <p class="card-text">Guide complet pour pousser le projet sur GitHub</p>
                        <a href="#" onclick="showDocumentation('GUIDE_GIT.md', 'ğŸ“ Guide Git'); return false;" class="doc-link">Voir â†’</a>
                    </div>
                </div>
            </section>

            <!-- Commandes -->
            <section class="section">
                <h2 class="section-title">âš™ï¸ Commandes principales</h2>
                <div class="commands-grid">
                    <div class="command-card">
                        <h3 class="command-title">Installation</h3>
                        <code class="command-code">make install-dev</code>
                    </div>
                    <div class="command-card">
                        <h3 class="command-title">Tests</h3>
                        <code class="command-code">make test</code>
                    </div>
                    <div class="command-card">
                        <h3 class="command-title">Formatage</h3>
                        <code class="command-code">make format</code>
                    </div>
                    <div class="command-card">
                        <h3 class="command-title">Linting</h3>
                        <code class="command-code">make lint</code>
                    </div>
                    <div class="command-card">
                        <h3 class="command-title">Type Check</h3>
                        <code class="command-code">make type-check</code>
                    </div>
                    <div class="command-card">
                        <h3 class="command-title">Lancer l'API</h3>
                        <code class="command-code">make run</code>
                    </div>
                </div>
            </section>
        </main>

        <!-- Footer -->
        <footer class="footer">
            <p class="footer-text">Fait avec â¤ï¸ par <strong>Romain</strong> et <strong>Xerly</strong></p>
            <p class="footer-text">Projet rÃ©alisÃ© dans le cadre du cours sur les bonnes pratiques de dÃ©veloppement</p>
            <a href="https://github.com/XERCORD/Bonne_pratique_dev" target="_blank" class="footer-link">ğŸ”— Repository GitHub</a>
        </footer>
    </div>

    <!-- Modal pour afficher les documentations -->
    <div id="doc-modal" class="doc-modal">
        <div class="doc-modal-overlay" onclick="closeDocModal()"></div>
        <div class="doc-modal-content">
            <div class="doc-modal-header">
                <h2 id="doc-modal-title">Documentation</h2>
                <button class="doc-modal-close" onclick="closeDocModal()">âœ•</button>
            </div>
            <div class="doc-modal-body">
                <div id="doc-modal-loading" class="doc-loading">Chargement de la documentation...</div>
                <div id="doc-modal-content" class="markdown-content"></div>
            </div>
        </div>
    </div>

    <!-- Container pour les notifications toast -->
    <div id="toast-container" class="toast-container"></div>

    <script src="app.js"></script>
</body>
</html>

